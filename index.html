<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linked Lists</title>
</head>
<body>
    <script>
        //create 1 class for head creation
        class LinkedList{
            constructor(head= null){
                this.head= head
            }
            append(value){
                let node= new Node(value);
                let curr;
                if(this.head===null){
                    this.head= node;
                }else{
                    curr= this.head;
                    while(curr.next){
                        curr= curr.next;
                    }
                    curr.next= node;
                }
            }

            prepend(value){
                let node= new Node(value);
                if(this.head===null){
                    this.head= node;
                }else{
                    node.next= this.head;
                    this.head= node;
                }
            }

            size(){
                let count=0; //start off at zero
                let node=this.head; //count the head as one
                while(node){ //if there is a node
                    count++; //increae count
                    node= node.next; //then move on to the next one
                }
                return count; //if there is no node, STOP and return the current count
            }

            firstNode(){
                return this.head;
            }

            tail(){
                let tail= this.head;
                if(tail){
                    while(tail.next){
                        tail= tail.next;
                    }
                }
                return tail;
            }

            at(index){
                let count=0;
                let node= this.head;

                if(index===0){
                    return this.head;
                }else if(index<0){
                    return "Please use numbers, zero, and above.";
                }else if(index===undefined){
                    return "Please enter a number."
                }

                while(node && count<index){
                    count++;
                    node= node.next;
                }
                if(count===index){
                    return node;
                };
            }

            pop(){
                if(this.head===null){
                    return;
                }else if(mainList.size()===1){
                    mainList.clear();
                }else{
                    let element= this.head;
                    let counter= 1;
                    if(element){
                        while(counter < mainList.size()-1){
                            element= element.next;
                            counter++;
                        }
                        element.next= null;
                    }
                }
            }

            contains(value){
                let curr= this.head;
                while(curr!== null){
                    if(curr.aValue===value){
                        return true;
                    }else{
                        curr= curr.next;
                    }
                }
                return false;
            }

            find(value){
                let counter= 0;
                let curr= this.head;
                while(curr!==null){
                    if(curr.aValue===value){
                        return counter;
                    }else{
                        counter++;
                        curr=curr.next;
                    }
                }
                return null;
            }

            toStringList(){
                let curr= this.head;
                let string= "";
                while(curr){
                    string+= curr.aValue+ ".\n";
                    curr= curr.next;
                }
                return string;
            }

            toString(){
                let curr= this.head;
                let string= "";
                while(curr){
                    string+= `( ${curr.aValue} ) ->`;
                    curr= curr.next;
                }
                return string+" null";
            }

            insertAt(value, index){
                if(index < 0 || index > mainList.size()){
                    return "Please enter a valid index.";
                }else{
                    let node= new Node(value);
                    let curr;
                    let prev;
                    curr= this.head;
                    if(index===0){
                        node.next=this.head;
                        this.head=node;
                    }else{
                        curr= this.head;
                        let it=0;
                        while(it<index){
                            it++;
                            prev=curr;
                            curr=curr.next;
                        }
                        node.next= curr;
                        prev.next= node
                    }
                }
            };

            removeAt(index){
                if(index < 0 || index >= mainList.size()){
                    return "Please enter a valid index.";
                }else{
                    let curr;
                    let prev;
                    curr= this.head;
                    prev=curr;
                    if(index===0){
                        this.head=curr.next;
                    }else{
                        let it=0;
                        while(it<index){
                            it++;
                            prev=curr;
                            curr=curr.next;
                        }
                        prev.next= curr.next
                    }
                }
            }

            clear(){
                this.head= null;
            }
        } 
        //create 1 class for node creation
        class Node{
            constructor (value= null){
                this.aValue= value
                this.next= null
            }
        }

        //node creation example
        let node1= new Node("First node");
        let node2= new Node("Second node");
        let node3= new Node("Third node");
        //next creation example
        node1.next= node2;
        node2.next= node3;
        //list creation example
        let mainList= new LinkedList(node1);

        //examples
        console.log(mainList.insertAt("Inserted Node", 1));
        console.log(mainList.append("Appended Node"));
        console.log(mainList.prepend("Prepended Node"));
        console.log(mainList.find("Third node"));
        
        console.log(mainList.toStringList());
        console.log(mainList.size());
        // console.log(mainList.toString());
    </script>
</body>
</html>